{% extends 'Main/base.html' %}


{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow p-4">
        <h2 class="card-title text-center mb-4">Ticket Form</h2>
        <form action="" method="POST">
          {% csrf_token %}
          <div class="mb-4">
            <div class="form-group">
              <label for="{{ form.title.id_for_label }}" class="form-label"><strong>{{ form.title.label }}</strong></label>
              {{ form.title }}
            </div>
            <div class="form-group">
              <label for="{{ form.employe.id_for_label }}" class="form-label"><strong>{{ form.employe.label }}</strong></label>
              <select class="form-control select2" name="{{ form.employe.name }}" id="{{ form.employe.id_for_label }}">
                {% for choice in form.employe.field.choices %}
                  <option value="{{ choice.0 }}">{{ choice.1 }}</option>
                {% endfor %}
              </select>
            </div>

            {% for field in form.visible_fields %}
              {% if field.name != 'title' and field.name != 'employe' %}
                <div class="form-group">
                  <label for="{{ field.id_for_label }}" class="form-label"><strong>{{ field.label }}</strong></label>
                  {{ field }}
                </div>
              {% endif %}
            {% endfor %}
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary btn-md">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/css/select2.min.css" />
<script>
  $(document).ready(function() {
    $('.select2').select2();
  });
</script>
{% endblock %}
